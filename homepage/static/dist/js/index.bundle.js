document.addEventListener("DOMContentLoaded",(function(e){function n(){const e=document.getElementById("profile-icon-preview"),n=document.getElementById("profile-icon-webgl"),t=new THREE.PerspectiveCamera(45,n.clientWidth/n.clientHeight,1,1e3);t.position.z=200;const i=new THREE.WebGLRenderer({antialias:!0,alpha:!0});i.setSize(n.clientWidth,n.clientHeight),n.prepend(i.domElement);const o=(new THREE.TextureLoader).load("/static/img/ausschnitt.webp",(function(){u()})),r=(new THREE.TextureLoader).load("/static/img/ausschnitt-depth.webp",(function(){u()})),d=new THREE.ShaderMaterial({uniforms:{mouseX:{value:0},mouseY:{value:0},scrollOffset:{value:0},texture:{value:o},depthTexture:{value:r}},vertexShader:"\n            varying vec2 vUv;\n            void main()\t{\n                vUv = uv;\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        ",fragmentShader:"\n            #extension GL_OES_standard_derivatives : enable\n            varying vec2 vUv;\n            uniform float mouseX;\n            uniform float mouseY;\n            uniform float scrollOffset;\n            uniform sampler2D depthTexture;\n            uniform sampler2D texture;\n            void main() {\n                vec2 vMouse = vec2(mouseX, mouseY);\n                vec2 vScrollOffset = vec2(0, scrollOffset);\n                float depth = texture2D(depthTexture, vUv).r;\n                gl_FragColor = texture2D(texture, vUv + vMouse * (depth) + vScrollOffset);\n                // Do some edge anti aliasing, because the image contains\n                // a premultiplied alpha channel\n                gl_FragColor.rgb = gl_FragColor.rgb * gl_FragColor.a;\n            }\n        "}),a=new THREE.Scene,l=new THREE.PlaneBufferGeometry(1,1),s=new THREE.Mesh(l,d);function c(e){const o=n.getBoundingClientRect(),r=Math.max(-500,Math.min(500,e.clientX-o.left)),l=Math.max(-500,Math.min(500,e.clientY-o.top));d.uniforms.mouseX.value=-r/15e3,d.uniforms.mouseY.value=l/15e3,n.style.transform=`rotate3d(0, 1, 1, ${r/50}deg)`,window.requestAnimationFrame((function(){i.render(a,t)}))}function u(){t.aspect=n.clientWidth/n.clientHeight,t.updateProjectionMatrix();const e=THREE.Math.degToRad(t.fov),o=2*Math.tan(e/2)*t.position.z,r=o,d=1*o;s.scale.set(d,r,1),i.setSize(n.clientWidth,n.clientHeight),window.requestAnimationFrame((function(){i.render(a,t)}))}function m(){document.documentElement.clientWidth<1023?(n.style.display="none",e.style.display="block",window.removeEventListener("resize",u,!0),document.removeEventListener("mousemove",c,!0)):(e.style.display="none",n.style.display="block",u(),window.addEventListener("resize",u,!0),document.addEventListener("mousemove",c,!0))}a.add(s),m(),window.addEventListener("resize",m,!1)}let t=!1;function i(){if(document.documentElement.clientWidth<1023)return;if(t)return;const e=document.createElement("script");e.setAttribute("src","/static/vendor/js/three.min.js"),e.onload=n,document.body.appendChild(e),t=!0}i(),window.addEventListener("resize",i,!1)})),document.addEventListener("DOMContentLoaded",(function(e){const n=document.getElementById("macbook-container"),t=document.getElementById("macbook-code-container"),i=document.getElementById("peerbridge-animation-preview"),o=document.getElementById("peerbridge-animation"),r=o.getContext("2d"),d=o.width*(2541/2225);o.height=d;const a=new Image;function l(e){return`/static/img/peerbridge-animation/animation-1000_${e}.webp`}a.onload=function(){r.clearRect(0,0,o.width,o.height),r.drawImage(a,0,0,a.width,a.height,0,0,o.width,o.height)};let s=!1;function c(){const e=o.getBoundingClientRect(),n=1-(e.y+window.innerHeight)/(e.height+window.innerHeight);if(n>1||n<0)return;if(!s){for(let e=38;e<=120;e++)new Promise((n=>{var t=new Image;t.onload=n,t.onerror=n,t.src=l(e)}));s=!0}const t=38+Math.round(82*n);a.src=l(t)}function u(){const e=n.getBoundingClientRect(),i=1-(e.y+window.innerHeight)/(e.height+window.innerHeight);i>1||i<0||(t.scrollTop=1e3*i)}function m(){document.documentElement.clientWidth<1023?(o.style.display="none",i.style.display="block",window.removeEventListener("scroll",c,!0),window.removeEventListener("scroll",u,!0)):(i.style.display="none",o.style.display="block",c(),window.addEventListener("scroll",c,!0),u(),window.addEventListener("scroll",u,!0))}m(),window.addEventListener("resize",m,!1)}));
//# sourceMappingURL=index.bundle.js.map